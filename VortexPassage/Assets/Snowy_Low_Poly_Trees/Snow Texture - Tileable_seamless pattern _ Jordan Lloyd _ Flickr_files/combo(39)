YUI.add("photo-lite-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{update:e.PhotoModelHelper.updateEngagement},toggleFave:e.PhotoModelHelper.toggleFave,addAsFave:e.PhotoModelHelper.addAsFave,getLargestSize:e.PhotoModelHelper.getLargestSize,getSizeToFit:e.PhotoModelHelper.getSizeToFit,getSizeIfExact:e.PhotoModelHelper.getSizeIfExact,isSizeSquare:e.PhotoModelHelper.isSizeSquare,isPhotoSquare:e.PhotoModelHelper.isPhotoSquare,attributes:{owner:{readOnly:!0,isModel:!0,getter:function(e,t){var r=this;return{id:r.getValue(t,"ownerNsid"),getValue:function(e){return"id"===e?r.getValue(t,"ownerNsid"):"nsid"===e?r.getValue(t,"ownerNsid"):"url"===e?r.getValue(t,"ownerUrl"):r.getValue(t,e)},toJSON:function(){return{id:r.getValue(t,"ownerNsid"),url:r.getValue(t,"ownerUrl"),pathAlias:r.getValue(t,"pathAlias"),username:r.getValue(t,"username"),realname:r.getValue(t,"realname"),displayname:r.getValue(t,"displayname"),nsid:r.getValue(t,"ownerNsid"),ownerUrl:r.getValue(t,"ownerUrl"),isMe:r.getValue(t,"isMe")}},exists:function(e){return!1}}}},pathAlias:e.PersonModelHelper.attributes.pathAlias,username:e.PersonModelHelper.attributes.username,realname:e.PersonModelHelper.attributes.realname,displayname:e.PersonModelHelper.attributes.displayname,nsid:e.PersonModelHelper.attributes.nsid,ownerUrl:e.PersonModelHelper.attributes.url,isMe:e.PersonModelHelper.attributes.isMe,engagement:{readOnly:!0,isModel:!0,getter:function(e,t){var r=this;return{getValue:function(e){return r.getValue(t,e)},toJSON:function(){return{ownerNsid:r.getValue(t,"ownerNsid"),isFaved:r.getValue(t,"isFaved"),faveCount:r.getValue(t,"faveCount"),commentCount:r.getValue(t,"commentCount"),canFave:r.getValue(t,"canFave")}},exists:function(e){return!1}}}},ownerNsid:e.PhotoModelHelper.attributes.ownerNsid,isFaved:e.PhotoModelHelper.attributes.isFaved,faveCount:e.PhotoModelHelper.attributes.faveCount,commentCount:e.PhotoModelHelper.attributes.commentCount,canFave:e.PhotoModelHelper.attributes.canFave,title:e.PhotoModelHelper.attributes.title,description:e.PhotoModelHelper.attributes.description,mediaType:e.PhotoModelHelper.attributes.mediaType,license:e.PhotoModelHelper.attributes.license,isVideo:e.PhotoModelHelper.attributes.isVideo,isOwner:e.PhotoModelHelper.attributes.isOwner,sizes:e.PhotoModelHelper.attributes.sizes,descendingSizes:e.PhotoModelHelper.attributes.descendingSizes,ascendingSizes:e.PhotoModelHelper.attributes.ascendingSizes,aspectRatio:e.PhotoModelHelper.attributes.aspectRatio,needsInterstitial:e.PhotoModelHelper.attributes.needsInterstitial,canComment:e.PhotoModelHelper.attributes.canComment,url:e.PhotoModelHelper.attributes.url,rotation:e.PhotoModelHelper.attributes.rotation,similaritySearchURL:e.PhotoModelHelper.attributes.similaritySearchURL,basicSimilaritySearchURL:e.PhotoModelHelper.attributes.basicSimilaritySearchURL,oWidth:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},oHeight:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},isPublic:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},isVisibleByFriends:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},isVisibleByFamily:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1}}})},"@VERSION@",{requires:["flickr-model-registry","photo-model-helper","person-model-helper","flickr-favorites-add-updater","flickr-favorites-remove-updater","photo-models","photo-engagement-models","person-models"]});YUI.add("flickr-explore-getContext-fetcher",function(e,o){"use strict";e.namespace("ListFetchers")["flickr-explore-getContext"]={run:function(t,r){var s=this;return e.Promise.all([r.callAPI("flickr.explore.getContext",this._processParams(t),!0),r.getModelRegistry("explore-models"),r.getModelRegistry("photo-models"),r.getModelRegistry("person-models"),r.getModelRegistry("photo-engagement-models"),r.getModelRegistry("photo-stats-models")]).then(function(e){return s._processResponse(e,t)},function(e){throw 1===e.code&&"Photo not in explore"===e.message&&(e.notInContext=!0),e}).then(null,e.FetcherErrorLogger(o))},_processParams:function(o){return{photo_id:o.photoId,extras:e.APIHelper.request.getRebootPhotoExtras(),num_prev:o.numPrev,num_next:o.numNext}},_processResponse:function(o,t){var r,s,n,p,l,i,a=o[0],h=o[1],d=o[2],g=o[3],u=o[4],m=o[5],x=[],c=[],y=d.proxy(t.photoId),M=[];return r=a.nextphotos,s=a.prevphotos,c=e.APIHelper.response.parsePhotos({photos:r.photo,personModelRegistry:g,photoModelRegistry:d,photoEngagementModelRegistry:u,photoStatsModelRegistry:m}),x=e.APIHelper.response.parsePhotos({photos:s.photo,personModelRegistry:g,photoModelRegistry:d,photoEngagementModelRegistry:u,photoStatsModelRegistry:m}),i=h.getValue(t.id,"photoContextList"),p=!!i.hasMinBoundary&&i.hasMinBoundary(),l=!!i.hasMaxBoundary&&i.hasMaxBoundary(),n=i.getList(),M=e.APIHelper.response.addOrReplaceListByContext({model:y,next:c,prev:x.reverse(),current:n,hasMin:p,hasMax:l,numNext:t.numNext,numPrev:t.numPrev}),h.setValue(t.id,"photoContextList",M),{next:c,previous:x.reverse()}}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["explore-models","photo-models","photo-engagement-models","photo-stats-models"]});YUI.add("explore-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,langBundles:this.details.langBundles,remote:{read:function(t){return e.ListFetchers["flickr-interestingness-getList"].run(t,this.appContext)}},attributes:{photos:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-interestingness-getList"]}},totalItems:{defaultValue:0,setter:function(t){return(t=e.AttributeHelpers.coerceInteger(t))<0&&(t=0),t}},photoContextList:{isListProxy:!0,contextFetch:{listFetcher:e.ListFetchers["flickr-explore-getContext"],listItemIdField:"photoId"}},displayType:{readOnly:!0,defaultValue:"explore"},url:{readOnly:!0,defaultFn:function(e){return"/explore/"+e.replace(/-/g,"/")}},urlSuffix:{readOnly:!0,defaultFn:function(e){return"explore-"+e}},title:{readOnly:!0,defaultFn:function(e){return this.intlMessage({intlName:"models.EXPLORE_TITLE",id:e})}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-interestingness-getList-fetcher","flickr-explore-getContext-fetcher"],langBundles:["models"]});YUI.add("flickr-interestingness-getList-fetcher",function(e,t){var o=100;e.namespace("ListFetchers")["flickr-interestingness-getList"]={run:function(o,r){var s,p=this,a=this._processParams(o,r);return s=[r.callAPI("flickr.interestingness.getList",a),r.getModelRegistry("explore-models"),r.getModelRegistry("photo-lite-models")],e.Promise.all(s).then(function(e){return p._processResponse(e,o)},e.FetcherErrorLogger(t))},_processParams:function(t,r){var s;return s={extras:e.APIHelper.request.getRebootPhotoLiteExtras(),per_page:t.perPage||o,page:t.page||"1",date:t.id},e.merge(s,t.apiParams||{})},_processResponse:function(t,o){var r,s=t[0],p=t[1],a=t[2],i={id:o.id},n=[];if(!o.id)throw new ReferenceError("No `id` provided by request.");if(!s.photos||!s.photos.photo)throw new Error("No `photos.photo` property returned by API.");return n=s.photos.photo.map(function(t){return r=e.APIHelper.response.parsePhotoLite(t),a.addOrUpdate(r)}),i.photos={perPage:s.photos.perpage,page:s.photos.page||1,pageContent:n,totalItems:s.photos.total,totalPages:s.photos.pages},i.totalItems=s.photos.total,p.addOrUpdate(i),i.photos.pageContent}}},"@VERSION@",{requires:["api-helper","flickr-promise"],optional:["explore-models","photo-lite-models"]});YUI.add("hermes-lang-404-page_es-us",function(e,s){e.Intl.add("hermes/404-page","es-US",{PAGE_TITLE:["No se encontró la página"],"404_OOPS_BAD_LINK":["¡Uy! Parece que seguiste un enlace erróneo."],"404_HELP_SUGGESTION":["Si crees que este es un problema con Flickr, puedes <a href='","${url}","'>informarlo</a>."],"404_HOME_PAGE_LINK":["Aquí está un enlace hacia la <a href='","${url}","'>página de inicio</a>."],"404_STAFF_ERROR_TITLE":["Error: ","${message}"],"404_STAFF_ERROR_SOURCE":["Fuente: ","${message}"],NOT_THE_PAGE_TITLE:["Esta no es la página que buscas."],SIGN_IN_TITLE:["Debes iniciar sesión para ver este"],SEARCH_PHOTOS:['Buscar por <span class="search-type-selector">fotos</span>'],SEARCH_PEOPLE:['Buscar por <span class="search-type-selector">personas</span>'],SEARCH_GROUPS:['Buscar por <span class="search-type-selector">grupos</span>'],PHOTO_LIST_TITLE_EXPLORE:["En su lugar, estas son algunas de la mejores fotos del día:"],PHOTO_LIST_TITLE_PHOTOSTREAM:['En su lugar, estas son otras fotos de <a href="',"${userlink}",'">',"${username}","</a>:"],PHOTO_LIST_TITLE_ALBUMS:['En su lugar, estos son otros álbumes de <a href="',"${userlink}",'">',"${username}","</a>:"],PHOTO_LIST_TITLE_GALLERIES:['Otras expos de <a href="',"${userlink}",'">',"${username}","</a>:"],PHOTO_LIST_TITLE_GROUPS:["Estos son otros grupos para explorar:"],PHOTO_LIST_TITLE_DISCUSSIONS:["Aquí encontrarás otras discusiones de este grupo:"],VIEW_MORE_PHOTOS:["Ver más fotos"],VIEW_MORE_ALBUMS:["Ver más álbumes"],VIEW_MORE_GALLERIES:["Ver más expos"],VIEW_MORE_GROUPS:["Ver más grupos"],SORRY_BAD_URL:["Lo sentimos, no reconocemos esta dirección URL."]})},"@VERSION@",{requires:["intl"]});